import"./modulepreload-polyfill-B5Qt9EMX.js";import{o as f,v as E,g as y,s as L}from"./usuarios-8b5f6MA8.js";const h=f();h.logado&&(window.location.href="./index.html");const l=document.getElementById("loginForm"),t=document.getElementById("email"),e=document.getElementById("senha"),a=document.getElementById("btnLogin"),u=document.getElementById("loginError"),w=document.getElementById("errorMessage"),r=document.getElementById("togglePassword"),v=document.getElementById("lembrar");r==null||r.addEventListener("click",()=>{const s=e.type==="password"?"text":"password";e.type=s;const o=r.querySelector("i");o&&(o.className=s==="password"?"fas fa-eye":"fas fa-eye-slash")});const m=localStorage.getItem("engmarq_email_salvo");m&&(t.value=m,v.checked=!0);function g(s){w.textContent=s,u.classList.add("show"),t.classList.add("error"),e.classList.add("error")}function i(){u.classList.remove("show"),t.classList.remove("error"),e.classList.remove("error")}l==null||l.addEventListener("submit",async s=>{s.preventDefault(),i();const o=t.value.trim(),c=e.value;if(!o||!c){g("Preencha todos os campos");return}a.classList.add("loading"),a.disabled=!0,await new Promise(n=>setTimeout(n,800));const d=E(o,c);if(d){v.checked?localStorage.setItem("engmarq_email_salvo",o):localStorage.removeItem("engmarq_email_salvo");const n=y(d);L(n),window.location.href="./index.html"}else a.classList.remove("loading"),a.disabled=!1,g("E-mail ou senha incorretos")});t==null||t.addEventListener("input",i);e==null||e.addEventListener("input",i);
